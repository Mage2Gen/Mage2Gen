$customerSetup->addAttribute(
    \Magento\Customer\Model\Customer::ENTITY,
    '{attribute_code}',
    [
        'type' => '{value_type}',
        'label' => '{attribute_label}',
        'input' => '{frontend_input}',
        'source' => '{source_model}',
        'required' => {required},
        'visible' => {visible},
        'position' => {sort_order},
        'system' => false,
        'backend' => '{backend_model}',
        'is_used_in_grid' => 1,
        'is_visible_in_grid' => 1,
        'is_filterable_in_grid' => 1,
        'is_searchable_in_grid' => 1
    ]
);